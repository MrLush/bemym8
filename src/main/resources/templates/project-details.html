<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.springframework.org/security/tags">
<head>
    <title th:text="${project.title}"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
          crossorigin="anonymous">
    <link href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <link href='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css'>
    <script src='https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
            crossorigin="anonymous"></script>
    <link th:href ="@{/css/body.css}" rel="stylesheet">
    <link th:href ="@{/css/comments.css}" rel="stylesheet">
</head>
<div th:insert="blocks/header :: header"></div>
<body class="bg-light">
    <main class="ms-sm-auto p-4">
        <div sec:authorize="isAuthenticated()"><!--'hasAuthority(''USER'')' -->
            <div th:if="${#request.userPrincipal.principal.id == project.authorId}" class="float-end">
                <a th:href="'/projects/' + ${project.id} + '/edit'" class="btn btn-warning btn-sm mb-1">Edit</a><br>
                <form method="POST" th:action="'/projects/' + ${project.id} + '/remove'">
                    <button type=submit class="btn btn-danger btn-sm mb-1">Delete</button>
                </form>
            </div>
        </div>
        <div class="shadow-sm p-3 mb-5 bg-white rounded">
            <h1 th:text="${project.title}"/>
            <small id="createdBy" class="form-text text-muted">Created by:</small>
            <small th:text="${author.username}" class="form-text text-muted" />
            <div th:utext=${project.shortDescription} />
            <div th:utext=${project.body} />
            <div sec:authorize="isAuthenticated()">
                <form method="post">
                    <textarea class="form-control" id="quickReplyFormComment" rows="2" placeholder="Leave a comment..."></textarea>
                    <button class="btn btn-primary btn-sm" type="submit">Post</button>
                </form>
                <div class="container mt-5">
                    <div class="d-flex justify-content-center row">
                        <div class="col-md-8">
                            <div class="d-flex flex-column comment-section" id="myGroup">
                                <div class="bg-white p-2">
                                    <div class="d-flex flex-row user-info">
                                        <!-- Here should be user logo -->
                                        <img class="rounded-circle" src="https://i.imgur.com/RpzrMR2.jpg" width="40" height="40">
                                        <div class="d-flex flex-column justify-content-start ml-2">
                                            <!-- Here should be user first and last name -->
                                            <span class="d-block font-weight-bold name">Marry Andrews</span>
                                            <!--date,month and year -->
                                            <span class="date text-black-50">Shared publicly - Jan 2020</span>
                                        </div>
                                    </div>
                                    <div class="mt-2">
                                        <!-- content -->
                                        <p class="comment-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                                    </div>
                                </div>
                                <div class="bg-white p-2">
                                    <div class="d-flex flex-row fs-12">
                                        <div class="like p-2 cursor">
                                            <i class="fa fa-thumbs-o-up"></i>
                                            <span class="ml-1">Like</span></div>
                                        <div class="like p-2 cursor action-collapse" data-toggle="collapse"
                                             aria-expanded="true" aria-controls="collapse-1" href="#collapse-1">
                                            <i class="fa fa-commenting-o"></i>
                                            <span class="ml-1">Comment</span>
                                        </div>
                                        <div class="like p-2 cursor action-collapse" data-toggle="collapse"
                                             aria-expanded="true" aria-controls="collapse-2" href="#collapse-2">
                                            <i class="fa fa-share"></i>
                                            <span class="ml-1">Share</span></div>
                                    </div>
                                </div>
                                <div id="collapse-1" class="bg-light p-2 collapse" data-parent="#myGroup">
                                    <div class="d-flex flex-row align-items-start">
                                        <img class="rounded-circle" src="https://i.imgur.com/RpzrMR2.jpg" width="40">
                                        <textarea class="form-control ml-1 shadow-none textarea"></textarea>
                                    </div>
                                    <div class="mt-2 text-right">
                                        <button class="btn btn-primary btn-sm shadow-none" type="button">Post comment</button>
                                        <button class="btn btn-outline-primary btn-sm ml-1 shadow-none" type="button">Cancel</button></div>
                                </div>
                                <div id="collapse-2" class="bg-light p-2 collapse" data-parent="#myGroup">
                                    <div class="d-flex flex-row align-items-start">
                                        <i class="fa fa-facebook border p-3 rounded mr-1"></i>
                                        <i class="fa fa-twitter border p-3 rounded mr-1"></i>
                                        <i class="fa fa-linkedin border p-3 rounded mr-1"></i>
                                        <i class="fa fa-instagram border p-3 rounded mr-1"></i>
                                        <i class="fa fa-dribbble border p-3 rounded mr-1"></i>
                                        <i class="fa fa-pinterest-p border p-3 rounded mr-1"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div th:insert="blocks/footer :: footer"></div>
    </main>
</body>
</html>